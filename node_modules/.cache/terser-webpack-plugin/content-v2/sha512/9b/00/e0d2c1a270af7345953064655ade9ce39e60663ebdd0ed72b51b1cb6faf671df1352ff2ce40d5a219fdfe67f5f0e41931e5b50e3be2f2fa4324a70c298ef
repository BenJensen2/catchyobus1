{"code":"(this.webpackJsonpcatchyobus=this.webpackJsonpcatchyobus||[]).push([[0],{32:function(t,e,c){},33:function(t,e,c){},52:function(t,e,c){},72:function(t,e,c){\"use strict\";c.r(e);var n=c(1),a=c.n(n),s=c(25),o=c.n(s),i=(c(32),c(33),c(9)),r=c(10),j=c.n(r),u=c(74),b=c(75),l=c(76),h=c(77),d=c(78),p=c(79),O=(c(52),c(11)),x=c(2),m=c(60);function f(){var t,e,c=Object(n.useState)([]),a=Object(i.a)(c,2),s=a[0],o=a[1],r=Object(n.useState)(),f=Object(i.a)(r,2),g=f[0],v=f[1],F=Object(n.useState)([]),y=Object(i.a)(F,2),S=y[0],D=y[1],C=Object(n.useState)(),B=Object(i.a)(C,2),k=B[0],A=B[1],w=Object(n.useState)(),E=Object(i.a)(w,2),N=E[0],P=E[1],T=Object(n.useState)(),Y=Object(i.a)(T,2),I=Y[0],L=Y[1],H=Object(n.useState)(\" \"),J=Object(i.a)(H,2),M=J[0],W=J[1];Object(n.useEffect)((function(){j.a.get(\"https://api.actransit.org/transit/routes/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\").then((function(t){o(t.data)}))}),[]);var _;return Object(x.jsx)(\"div\",{children:Object(x.jsxs)(\"div\",{className:\"container\",children:[Object(x.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),j.a.get(\"https://api.actransit.org/transit/route/\".concat(g,\"/destinations/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then((function(t){D(t.data)}))},children:[Object(x.jsx)(b.a,{className:\"purple\",children:\"Pick and submit a route\"}),Object(x.jsx)(\"br\",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsxs)(d.a,{type:\"select\",className:\"form-select\",onChange:function(t){t.preventDefault(),v(t.target.value)},children:[Object(x.jsx)(\"option\",{children:\"Pick route\"}),s.map((function(t,e){return Object(x.jsx)(\"option\",{children:t.Name},e)})),\";\"]})}),Object(x.jsx)(p.a,{color:\"primary\",children:\"Submit\"})]})]}),Object(x.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),j.a.get(\"https://api.actransit.org/transit/actrealtime/stop?rt=\".concat(g,\"&dir=\").concat(k,\"&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then((function(t){for(var e=t.data[\"bustime-response\"].stops,c=[\"<option>Pick Stop</option>\"],n=0;n<e.length;)c+='<option value=\"'.concat(e[n].stpid,'\">').concat(e[n].stpnm,\"</option>\"),n++;P(c)}))},children:[Object(x.jsx)(b.a,{children:\"Pick and submit a direction\"}),Object(x.jsx)(\"br\",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsxs)(d.a,{type:\"select\",onChange:function(t){t.preventDefault(),A(t.target.value)},children:[Object(x.jsx)(\"option\",{children:\"Pick Direction\"}),S.map((function(t,e){return Object(x.jsx)(\"option\",{children:t.Destination},e)})),\";\"]})}),Object(x.jsx)(p.a,{color:\"primary\",children:\"Submit\"})]})]}),Object(x.jsxs)(u.a,{onSubmit:function(c){c.preventDefault(),e=m.schedule(\"*/5 * * * *\",(function(){j.a.get(\"https://api.actransit.org/transit/actrealtime/prediction?&stpid=\".concat(I,\"&rt=\").concat(g,\"&top=1&tmres=m&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then((function(c){(t=c.data[\"bustime-response\"].prd[0].prdctdn)<10&&t>=5?(_=\"Your bus is \".concat(t,\" minutes away. Get to the bus stop!\"),j.a.get(\"http://localhost:3500/send-text?phoneNumber=\".concat(M,\"&message=\").concat(_)),console.log(_),e.stop()):t>5?(_=\"Your bus is \".concat(t,\" minutes away. You might have to wait for the next one.\"),j.a.get(\"http://localhost:3500/send-text?phoneNumber=\".concat(M,\"&message=\").concat(_)),console.log(_)):(_=\"Chill out! There are \".concat(t,\" minutes until your bus comes.\"),console.log(_))}))})),Object(O.c)(\"/letsgo\")},children:[Object(x.jsx)(b.a,{children:\"Pick your Stop, then...\"}),Object(x.jsx)(l.a,{row:!0,children:Object(x.jsx)(h.a,{sm:10,children:Object(x.jsx)(d.a,{type:\"select\",dangerouslySetInnerHTML:{__html:N},onChange:function(t){t.preventDefault(),L(t.target.value)}})})}),Object(x.jsx)(b.a,{children:\"What's your number?\"}),Object(x.jsx)(\"br\",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsx)(d.a,{className:\"form-control\",onChange:function(t){return W(t.target.value)},value:M})}),Object(x.jsx)(d.a,{type:\"hidden\",value:_}),Object(x.jsx)(p.a,{color:\"primary\",children:\"Submit\"})]})]})]})})}function g(){return Object(x.jsx)(\"div\",{children:Object(x.jsxs)(\"div\",{children:[Object(x.jsx)(\"p\",{children:\"We got you. You'll get a text when you need to catch yo bus!\"}),Object(x.jsx)(O.a,{to:\"/\",children:\"back\"})]})})}function v(){return Object(x.jsxs)(\"div\",{children:[Object(x.jsx)(\"div\",{children:Object(x.jsx)(\"p\",{children:\"Hola, this is a page\"})}),Object(x.jsx)(f,{}),Object(x.jsx)(O.b,{children:Object(x.jsx)(g,{path:\"/letsgo\"})})]})}var F=function(){return Object(x.jsx)(\"div\",{className:\"App\",children:Object(x.jsx)(v,{})})},y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;c(t),n(t),a(t),s(t),o(t)}))};c(71);o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById(\"root\")),y()}},[[72,1,2]]]);","name":"static/js/main.741762b6.chunk.js","map":{"version":3,"sources":["static/js/main.741762b6.chunk.js"],"names":["this","push","32","module","exports","__webpack_require__","33","52","72","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","axios","axios_default","Form","Label","FormGroup","Col","Input","Button","es","jsx_runtime","cron","GetRoutes","prediction","busTask","_useState","Object","_useState2","routes","setRoutes","_useState3","_useState4","routeName","setRouteName","_useState5","_useState6","direction","setDirection","_useState7","_useState8","destination","setDestination","_useState9","_useState10","stops","setStops","_useState11","_useState12","stopId","setStopId","_useState13","_useState14","phoneNumber","setPhoneNumber","a","get","then","res","data","message","children","className","onSubmit","e","preventDefault","concat","row","sm","type","onChange","target","value","map","route","index","Name","color","loopData","i","length","stpid","stpnm","Destination","schedule","prd","prdctdn","console","log","stop","dangerouslySetInnerHTML","__html","GetStops","to","Main","path","src_App","src_reportWebVitals","onPerfEntry","Function","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpcatchyobus\"] = this[\"webpackJsonpcatchyobus\"] || []).push([[0],{\n\n/***/ 32:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 33:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(25);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(32);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(33);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(10);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/Form.js\nvar Form = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/Label.js\nvar Label = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/FormGroup.js\nvar FormGroup = __webpack_require__(76);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/Col.js\nvar Col = __webpack_require__(77);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/Input.js\nvar Input = __webpack_require__(78);\n\n// EXTERNAL MODULE: ./node_modules/reactstrap/es/Button.js\nvar Button = __webpack_require__(79);\n\n// EXTERNAL MODULE: ./src/components/GetData.css\nvar GetData = __webpack_require__(52);\n\n// EXTERNAL MODULE: ./node_modules/@reach/router/es/index.js + 2 modules\nvar es = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(2);\n\n// CONCATENATED MODULE: ./src/components/GetData.js\nvar cron=__webpack_require__(60);function GetRoutes(){var initialValue=\" \";var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),routes=_useState2[0],setRoutes=_useState2[1];var _useState3=Object(react[\"useState\"])(),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),routeName=_useState4[0],setRouteName=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),direction=_useState6[0],setDirection=_useState6[1];var _useState7=Object(react[\"useState\"])(),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),destination=_useState8[0],setDestination=_useState8[1];var _useState9=Object(react[\"useState\"])(),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),stops=_useState10[0],setStops=_useState10[1];var _useState11=Object(react[\"useState\"])(),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),stopId=_useState12[0],setStopId=_useState12[1];var _useState13=Object(react[\"useState\"])(initialValue),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),phoneNumber=_useState14[0],setPhoneNumber=_useState14[1];var prediction;var busTask;Object(react[\"useEffect\"])(function(){axios_default.a.get('https://api.actransit.org/transit/routes/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E').then(function(res){setRoutes(res.data);});},[]);var whatRoute=function whatRoute(e){e.preventDefault();setRouteName(e.target.value);};var whatDirection=function whatDirection(e){e.preventDefault();setDestination(e.target.value);};var whatStop=function whatStop(e){e.preventDefault();setStopId(e.target.value);};var saveThis=function saveThis(e){e.preventDefault();axios_default.a.get(\"https://api.actransit.org/transit/route/\".concat(routeName,\"/destinations/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then(function(res){setDirection(res.data);});};var saveThat=function saveThat(e){e.preventDefault();axios_default.a.get(\"https://api.actransit.org/transit/actrealtime/stop?rt=\".concat(routeName,\"&dir=\").concat(destination,\"&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then(function(res){var data=res.data[\"bustime-response\"].stops;var loopData=[\"<option>Pick Stop</option>\"];var i=0;while(i<data.length){loopData+=\"<option value=\\\"\".concat(data[i].stpid,\"\\\">\").concat(data[i].stpnm,\"</option>\");i++;}setStops(loopData);});};var saveAlso=function saveAlso(e){e.preventDefault();busTask=cron.schedule('*/5 * * * *',function(){axios_default.a.get(\"https://api.actransit.org/transit/actrealtime/prediction?&stpid=\".concat(stopId,\"&rt=\").concat(routeName,\"&top=1&tmres=m&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E\")).then(function(res){prediction=res.data[\"bustime-response\"].prd[0].prdctdn;catchBus();});});Object(es[\"c\" /* navigate */])(\"/letsgo\");};var message;function catchBus(){if(prediction<10&&prediction>=5){message=\"Your bus is \".concat(prediction,\" minutes away. Get to the bus stop!\");axios_default.a.get(\"http://localhost:3500/send-text?phoneNumber=\".concat(phoneNumber,\"&message=\").concat(message));console.log(message);busTask.stop();}else if(prediction>5){message=\"Your bus is \".concat(prediction,\" minutes away. You might have to wait for the next one.\");axios_default.a.get(\"http://localhost:3500/send-text?phoneNumber=\".concat(phoneNumber,\"&message=\").concat(message));console.log(message);}else{message=\"Chill out! There are \".concat(prediction,\" minutes until your bus comes.\");console.log(message);}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:saveThis,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{className:\"purple\",children:\"Pick and submit a route\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormGroup[\"a\" /* default */],{row:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{sm:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Input[\"a\" /* default */],{type:\"select\",className:\"form-select\",onChange:whatRoute,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:\"Pick route\"}),routes.map(function(route,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:route.Name},index);}),\";\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"primary\",children:\"Submit\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:saveThat,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{children:\"Pick and submit a direction\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormGroup[\"a\" /* default */],{row:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{sm:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Input[\"a\" /* default */],{type:\"select\",onChange:whatDirection,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:\"Pick Direction\"}),direction.map(function(direction,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"option\",{children:direction.Destination},index);}),\";\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"primary\",children:\"Submit\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:saveAlso,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{children:\"Pick your Stop, then...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(FormGroup[\"a\" /* default */],{row:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{sm:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{type:\"select\",dangerouslySetInnerHTML:{__html:stops},onChange:whatStop})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Label[\"a\" /* default */],{children:\"What's your number?\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(FormGroup[\"a\" /* default */],{row:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Col[\"a\" /* default */],{sm:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{className:\"form-control\",onChange:function onChange(e){return setPhoneNumber(e.target.value);},value:phoneNumber})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{type:\"hidden\",value:message}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{color:\"primary\",children:\"Submit\"})]})]})]})});};\n// CONCATENATED MODULE: ./src/components/Confirmed.js\nfunction GetStops(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"We got you. You'll get a text when you need to catch yo bus!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"a\" /* Link */],{to:\"/\",children:\"back\"})]})});};\n// CONCATENATED MODULE: ./src/views/Main.js\nfunction Main(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Hola, this is a page\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GetRoutes,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(es[\"b\" /* Router */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(GetStops,{path:\"/letsgo\"})})]});}\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Main,{})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 80)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/bootstrap/dist/css/bootstrap.min.css\nvar bootstrap_min = __webpack_require__(71);\n\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[72,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/montyj/Documents/projects/catchyobus/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/montyj/Documents/projects/catchyobus/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/montyj/Documents/projects/catchyobus/node_modules/postcss-loader/src/index.js??postcss!/Users/montyj/Documents/projects/catchyobus/src/index.css","/Users/montyj/Documents/projects/catchyobus/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/montyj/Documents/projects/catchyobus/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/montyj/Documents/projects/catchyobus/node_modules/postcss-loader/src/index.js??postcss!/Users/montyj/Documents/projects/catchyobus/src/App.css","/Users/montyj/Documents/projects/catchyobus/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/montyj/Documents/projects/catchyobus/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/montyj/Documents/projects/catchyobus/node_modules/postcss-loader/src/index.js??postcss!/Users/montyj/Documents/projects/catchyobus/src/components/GetData.css","/Users/montyj/Documents/projects/catchyobus/src/components/GetData.js","/Users/montyj/Documents/projects/catchyobus/src/components/Confirmed.js","/Users/montyj/Documents/projects/catchyobus/src/views/Main.js","/Users/montyj/Documents/projects/catchyobus/src/App.js","/Users/montyj/Documents/projects/catchyobus/src/reportWebVitals.js","/Users/montyj/Documents/projects/catchyobus/src/index.js"],"names":["cron","require","GetRoutes","initialValue","useState","routes","setRoutes","routeName","setRouteName","direction","setDirection","destination","setDestination","stops","setStops","stopId","setStopId","phoneNumber","setPhoneNumber","prediction","busTask","useEffect","axios","get","then","res","data","whatRoute","e","preventDefault","target","value","whatDirection","whatStop","saveThis","saveThat","loopData","i","length","stpid","stpnm","saveAlso","schedule","prd","prdctdn","catchBus","navigate","message","console","log","stop","map","route","index","Name","Destination","__html","GetStops","Main","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Button, Form, Input, Label, FormGroup, Col } from  'reactstrap';\nimport \"../components/GetData.css\";\nimport { navigate } from '@reach/router';\n\nvar cron = require('node-cron');\n\n\nexport default function GetRoutes () {\n    let initialValue = \" \";\n\n    const [routes, setRoutes] = useState([]);\n    const [routeName, setRouteName] = useState(); \n    const [direction, setDirection] = useState([]);\n    const [destination, setDestination] = useState();\n    const [stops, setStops] = useState();\n    const [stopId, setStopId] = useState();\n    const [phoneNumber, setPhoneNumber] = useState(initialValue);\n\n    let prediction;\n\n    let busTask;\n\n\n\n\n    useEffect(() => {\n        axios.get('https://api.actransit.org/transit/routes/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E')\n            .then(res => {\n                setRoutes(res.data);\n            });\n    }, []);\n\n    const whatRoute = e => {\n        e.preventDefault();\n        setRouteName(e.target.value);\n    };\n\n\n    const whatDirection = e => {\n        e.preventDefault();\n        setDestination(e.target.value);\n    };\n\n    const whatStop = e => {\n        e.preventDefault();\n        setStopId(e.target.value);\n    };\n\n    const saveThis = e => {\n        e.preventDefault();\n        \n        axios.get(`https://api.actransit.org/transit/route/${routeName}/destinations/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E`)\n            .then(res => {\n                setDirection(res.data);\n            });\n    };\n\n    const saveThat = e => {\n        e.preventDefault();\n        \n        axios.get(`https://api.actransit.org/transit/actrealtime/stop?rt=${routeName}&dir=${destination}&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E`)\n        .then(res => {\n            var data = res.data[\"bustime-response\"].stops;\n            var loopData = [\"<option>Pick Stop</option>\"];\n            var i = 0;\n            while(i < data.length){\n                loopData += `<option value=\"${data[i].stpid}\">${data[i].stpnm}</option>`;\n                i++;\n            }\n            setStops(loopData);\n        });\n    };\n\n\n    const saveAlso = e => {\n        e.preventDefault();\n        \n        busTask = cron.schedule('*/5 * * * *', () => {\n        axios.get(`https://api.actransit.org/transit/actrealtime/prediction?&stpid=${stopId}&rt=${routeName}&top=1&tmres=m&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E`)\n            .then(res => {\n                prediction = (res.data[\"bustime-response\"].prd[0].prdctdn);\n                    catchBus();\n                });\n            });\n\n            navigate(\"/letsgo\");\n    };\n\n    var message;\n\n    function catchBus() {\n\n            if(prediction < 10 && prediction >= 5) {\n            \n                message = `Your bus is ${prediction} minutes away. Get to the bus stop!`;\n    \n                axios.get(`http://localhost:3500/send-text?phoneNumber=${phoneNumber}&message=${message}`);\n                console.log(message);\n                busTask.stop();\n    \n            } else if(prediction > 5) {\n                message = `Your bus is ${prediction} minutes away. You might have to wait for the next one.`;\n\n                axios.get(`http://localhost:3500/send-text?phoneNumber=${phoneNumber}&message=${message}`);\n                console.log(message);\n            } else {\n                message = `Chill out! There are ${prediction} minutes until your bus comes.`;\n                console.log(message);\n            }\n        \n    }\n\n\n    return (\n        <div>\n            <div className=\"container\">\n                <Form onSubmit={saveThis}>\n                    <Label className=\"purple\">Pick and submit a route</Label>\n                    <br />\n                    <FormGroup row>\n                    <Col sm={10}>\n                    <Input type=\"select\" className=\"form-select\" onChange={whatRoute}>\n                        <option>Pick route</option>\n                        {routes.map((route, index) => {\n                            return <option key={index}>\n                                {route.Name}</option>\n                        })};\n                    </Input>\n                    </Col>\n                    <Button color=\"primary\">Submit</Button>\n                    </FormGroup>\n                </Form>\n                <Form onSubmit={saveThat}>\n                    \n                    <Label>Pick and submit a direction</Label>\n                    <br />\n                    <FormGroup row>\n                    <Col sm={10}>\n                    <Input type=\"select\" onChange={whatDirection}>\n                        <option>Pick Direction</option>\n                        {direction.map((direction, index) => {\n                            return <option key={index} >\n                                {direction.Destination}</option>\n                        })};\n                    </Input>\n                    </Col>\n                    <Button color=\"primary\">Submit</Button>\n                    </FormGroup>\n                </Form>\n                <Form onSubmit={saveAlso}>\n                    <Label>Pick your Stop, then...</Label>\n                    <FormGroup row>\n                    <Col sm={10}>\n                    <Input type=\"select\" dangerouslySetInnerHTML={{__html: stops}} onChange={whatStop}>\n                    </Input>\n                    </Col>\n                    </FormGroup>\n                    <Label>What's your number?</Label><br />\n                    <FormGroup row>\n                    <Col sm={10}>\n                    <Input className=\"form-control\" onChange={(e) => setPhoneNumber(e.target.value)} value={phoneNumber}></Input>\n                    </Col>\n                    <Input type='hidden' value={message}></Input>\n                    <Button color=\"primary\">Submit</Button>\n                    </FormGroup>\n                </Form>\n            </div>\n        </div>\n    )\n};","import React from 'react';\nimport { Link } from '@reach/router';\n\n\nexport default function GetStops(){\n\n    \n\n    return (\n        <div>\n            <div>\n                <p>We got you. You'll get a text when you need to catch yo bus!</p>\n                <Link to={\"/\"}>back</Link>\n            </div>\n        </div>\n    )\n};","import React from 'react';\nimport GetRoutes from '../components/GetData';\nimport { Router } from '@reach/router';\nimport GetStops from '../components/Confirmed';\n\n\nexport default function Main() {\n\n\n    return (\n        <div>\n            <div>\n                <p>Hola, this is a page</p>\n            </div>\n            <GetRoutes />\n            <Router>\n                <GetStops path=\"/letsgo\" />\n            </Router>\n        </div>\n    )\n}","import './App.css';\nimport Main from '../src/views/Main';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Main />\n    </div>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}