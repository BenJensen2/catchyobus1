(this.webpackJsonpcatchyobus=this.webpackJsonpcatchyobus||[]).push([[0],{32:function(t,e,c){},33:function(t,e,c){},52:function(t,e,c){},72:function(t,e,c){"use strict";c.r(e);var n=c(1),a=c.n(n),s=c(25),o=c.n(s),i=(c(32),c(33),c(9)),r=c(10),j=c.n(r),u=c(74),b=c(75),l=c(76),h=c(77),d=c(78),O=c(79),p=(c(52),c(11)),x=c(2),m=c(60);function f(){var t,e,c=Object(n.useState)([]),a=Object(i.a)(c,2),s=a[0],o=a[1],r=Object(n.useState)(),f=Object(i.a)(r,2),g=f[0],v=f[1],F=Object(n.useState)([]),y=Object(i.a)(F,2),S=y[0],D=y[1],C=Object(n.useState)(),B=Object(i.a)(C,2),k=B[0],A=B[1],w=Object(n.useState)(),E=Object(i.a)(w,2),N=E[0],P=E[1],T=Object(n.useState)(),Y=Object(i.a)(T,2),I=Y[0],L=Y[1],H=Object(n.useState)(" "),J=Object(i.a)(H,2),M=J[0],W=J[1];Object(n.useEffect)((function(){j.a.get("https://api.actransit.org/transit/routes/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E").then((function(t){o(t.data)}))}),[]);var _;return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{className:"container",children:[Object(x.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),j.a.get("https://api.actransit.org/transit/route/".concat(g,"/destinations/?token=A6B7D2FAF537BF5AC5B44DEF8C215F7E")).then((function(t){D(t.data)}))},children:[Object(x.jsx)(b.a,{className:"purple",children:"Pick and submit a route"}),Object(x.jsx)("br",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsxs)(d.a,{type:"select",className:"form-select",onChange:function(t){t.preventDefault(),v(t.target.value)},children:[Object(x.jsx)("option",{children:"Pick route"}),s.map((function(t,e){return Object(x.jsx)("option",{children:t.Name},e)})),";"]})}),Object(x.jsx)(O.a,{color:"primary",children:"Submit"})]})]}),Object(x.jsxs)(u.a,{onSubmit:function(t){t.preventDefault(),j.a.get("https://api.actransit.org/transit/actrealtime/stop?rt=".concat(g,"&dir=").concat(k,"&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E")).then((function(t){for(var e=t.data["bustime-response"].stops,c=["<option>Pick Stop</option>"],n=0;n<e.length;)c+='<option value="'.concat(e[n].stpid,'">').concat(e[n].stpnm,"</option>"),n++;P(c)}))},children:[Object(x.jsx)(b.a,{children:"Pick and submit a direction"}),Object(x.jsx)("br",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsxs)(d.a,{type:"select",onChange:function(t){t.preventDefault(),A(t.target.value)},children:[Object(x.jsx)("option",{children:"Pick Direction"}),S.map((function(t,e){return Object(x.jsx)("option",{children:t.Destination},e)})),";"]})}),Object(x.jsx)(O.a,{color:"primary",children:"Submit"})]})]}),Object(x.jsxs)(u.a,{onSubmit:function(c){c.preventDefault(),e=m.schedule("*/5 * * * *",(function(){j.a.get("https://api.actransit.org/transit/actrealtime/prediction?&stpid=".concat(I,"&rt=").concat(g,"&top=1&tmres=m&token=A6B7D2FAF537BF5AC5B44DEF8C215F7E")).then((function(c){(t=c.data["bustime-response"].prd[0].prdctdn)<10&&t>=5?(_="Your bus is ".concat(t," minutes away. Get to the bus stop!"),j.a.get("/send-text?phoneNumber=".concat(M,"&message=").concat(_)),console.log(_),e.stop()):t<5?(_="Your bus is ".concat(t," minutes away. You might have to wait for the next one."),j.a.get("/send-text?phoneNumber=".concat(M,"&message=").concat(_)),console.log(_)):(_="Chill out! There are ".concat(t," minutes until your bus comes."),console.log(_))}))})),Object(p.c)("/letsgo")},children:[Object(x.jsx)(b.a,{children:"Pick your Stop, then..."}),Object(x.jsx)(l.a,{row:!0,children:Object(x.jsx)(h.a,{sm:10,children:Object(x.jsx)(d.a,{type:"select",dangerouslySetInnerHTML:{__html:N},onChange:function(t){t.preventDefault(),L(t.target.value)}})})}),Object(x.jsx)(b.a,{children:"What's your number?"}),Object(x.jsx)("br",{}),Object(x.jsxs)(l.a,{row:!0,children:[Object(x.jsx)(h.a,{sm:10,children:Object(x.jsx)(d.a,{className:"form-control",onChange:function(t){return W(t.target.value)},value:M})}),Object(x.jsx)(d.a,{type:"hidden",value:_}),Object(x.jsx)(O.a,{color:"primary",children:"Submit"})]})]})]})})}function g(){return Object(x.jsx)("div",{children:Object(x.jsxs)("div",{children:[Object(x.jsx)("p",{children:"We got you. You'll get a text when you need to catch yo bus!"}),Object(x.jsx)(p.a,{to:"/",children:"back"})]})})}function v(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("p",{children:"Hola, this is a page"})}),Object(x.jsx)(f,{}),Object(x.jsx)(p.b,{children:Object(x.jsx)(g,{path:"/letsgo"})})]})}var F=function(){return Object(x.jsx)("div",{className:"App",children:Object(x.jsx)(v,{})})},y=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,80)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,s=e.getLCP,o=e.getTTFB;c(t),n(t),a(t),s(t),o(t)}))};c(71);o.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(F,{})}),document.getElementById("root")),y()}},[[72,1,2]]]);
//# sourceMappingURL=main.9cc33307.chunk.js.map